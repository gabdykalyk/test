const svg=new Vivus("back",{type:"delayed",duration:400});function formValidation(){let e=document.querySelector("#formEmail"),t=document.querySelector(".error-msg"),r=document.querySelector("#formPassword"),o=document.querySelector("#ok");e.addEventListener("input",()=>{e.validity.valid||(e.classList.add("error"),o.style.opacity="0"),e.validity.valid&&(e.classList.remove("error"),o.style.opacity="1")}),r.addEventListener("input",()=>{r.validity.valid||(r.classList.add("error"),t.style.opacity="1"),r.validity.valid&&(r.classList.remove("error"),t.style.opacity="0")})}function registered(){let e=document.querySelector("#formContainer");document.querySelector("#banner").style.display="none",e.innerHTML='<div id="registered" class="registered">\n\t\t\t<div class="registered__info">\n\t\t\t\t<div class="registered__title">\n\t\t\t\t\tThank You!\n\t\t\t\t</div>\n\t\t\t\t<div class="registered__text">\n\t\t\t\t\tyou registered!\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="registered__footer">\n\t\t\t\t<div class="form__login">\n\t\t\t\t\tHave an account? <a class="footer__link" href="">Login</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>'}function btnError(){let e=document.querySelector("#completeBtn");e.classList.add("btn-error"),setTimeout((function(){e.classList.remove("btn-error")}),1e3)}function okJson(){var e=new XMLHttpRequest;e.open("GET","../json/server-ok.json"),e.responseType="json",e.send(),e.onload=function(){var t=e.response;console.log(t.message),"ok"===t.answer&&registered()}}function errorJson(){var e=new XMLHttpRequest;e.open("GET","../json/server-error.json"),e.responseType="json",e.send(),e.onload=function(){var t=e.response;console.log(t.message),"error"===t.answer&&btnError()}}formValidation();let complete=document.querySelector("#completeBtn"),formEmail=document.querySelector("#formEmail"),password=document.querySelector("#formPassword");complete.addEventListener("click",()=>{formEmail.validity.valid&&password.validity.valid&&okJson(),formEmail.validity.valid&&password.validity.valid||errorJson()});
